# Neuron CMS Configuration Example
# Copy this file to neuron.yaml and customize for your site
# Main configuration file for the Neuron CMS application

system:
  timezone: UTC  # Server timezone (e.g., America/New_York, Europe/London, UTC)
  base_path: resources  # Base path for resources

routing:
  controller_paths:
    - path: 'vendor/neuron-php/cms/src/Cms/Controllers'
      namespace: 'Neuron\Cms\Controllers'

logging:
  destination: \Neuron\Log\Destination\File  # Log destination class
  format: \Neuron\Log\Format\PlainText  # Log format class
  file: storage/logs/app.log  # Log file path
  level: info  # Log level: debug, info, warning, error

cache:
  enabled: true  # Enable view caching
  storage: file  # Cache storage type
  path: storage/cache/views  # Cache storage path
  ttl: 3600  # Cache time-to-live in seconds
  html: true  # Cache HTML views
  markdown: true  # Cache Markdown views
  json: false  # Cache JSON views
  xml: false  # Cache XML views

views:
  path: resources/views  # Path to view templates

site:
  name: 'Neuron CMS'  # Site name
  url: 'https://example.com'  # Site URL (without trailing slash)
  description: 'A modern content management system built with Neuron.'  # Site description
  title: 'Neuron CMS'  # Default page title

# Theme Configuration
# Controls the Bootswatch theme for different portals
# Themes are role-based: admin, subscriber (member), and guest (public/auth)
#
# Available Bootswatch 5.3+ themes:
# - cerulean: A calm blue sky theme
# - cosmo: An ode to Metro
# - cyborg: Jet black and electric blue
# - darkly: Flatly in night mode
# - flatly: Flat and modern
# - journal: Crisp like a new sheet of paper
# - litera: The medium is the message
# - lumen: Light and shadow
# - lux: A touch of class
# - materia: Material is the metaphor
# - minty: A fresh feel
# - morph: A neumorphic design
# - pulse: A trace of purple
# - quartz: A glassmorphism design
# - sandstone: A touch of warmth
# - simplex: Mini and minimalist
# - sketchy: A hand-drawn look
# - slate: Shades of gunmetal gray
# - solar: A spin on Solarized
# - spacelab: Silvery and sleek
# - superhero: The brave and the blue
# - united: Ubuntu orange and unique font
# - vapor: A cyberpunk aesthetic
# - yeti: A friendly foundation
# - zephyr: Breezy and beautiful
#
# Preview themes at: https://bootswatch.com/
theme:
  # Admin portal theme (for users with admin role)
  # Recommended: vapor (dark), darkly, cyborg, slate
  admin: vapor

  # Member portal theme (for users with subscriber, editor, author roles)
  # Recommended: sandstone, flatly, cosmo, lux, materia
  subscriber: sandstone

  # Guest theme (for public website and login/registration pages)
  # Recommended: sandstone, flatly, cosmo, litera, lumen, minty
  guest: sandstone

# Cloudinary Configuration
# Sign up for free at: https://cloudinary.com
# Get credentials from: https://console.cloudinary.com/settings/general
cloudinary:
  cloud_name: your-cloud-name  # Your Cloudinary cloud name (required)
  api_key: your-api-key  # API key from Cloudinary console (required)
  api_secret: your-api-secret  # API secret from Cloudinary console (required)
  folder: neuron-cms/images  # Default folder for uploads (optional)
  max_file_size: 5242880  # Maximum file size in bytes (5MB default)
  allowed_formats: [jpg, jpeg, png, gif, webp]  # Allowed image formats

# Database Configuration
# The installer will configure this section interactively
# All three databases (SQLite, MySQL, PostgreSQL) are fully supported
# with identical behavior - choose based on your deployment needs

# === NEW: URL-Based Configuration ===
# You can now configure your database using a single URL string
# This is especially useful for cloud platforms and environment-based configs
#
# Format: adapter://user:pass@host:port/database?options
#
# Examples:
# database:
#   url: mysql://myuser:mypass@localhost:3306/neuron_cms?charset=utf8mb4
#   url: postgresql://postgres:secret@db.example.com:5432/myapp
#   url: sqlite:///storage/database.sqlite3
#   url: sqlite::memory:  # For in-memory database
#
# Environment variable (takes precedence over config file):
#   DATABASE_URL=mysql://user:pass@host:3306/dbname
#
# You can also mix URL with individual overrides:
# database:
#   url: mysql://user:pass@host:3306/dbname
#   charset: latin1  # Override the charset from URL

# Option 1: SQLite (Recommended for development and small-to-medium sites)
# - Zero configuration required
# - Single file database
# - Automatic WAL mode for concurrency
# - Foreign keys enforced automatically
database:
  adapter: sqlite
  name: storage/database.sqlite3
  # Or use URL format:
  # url: sqlite:///storage/database.sqlite3

# Option 2: MySQL (Recommended for large-scale production)
# - Best for high-traffic websites
# - Proven scalability
# - Wide hosting support
# database:
#   adapter: mysql
#   host: localhost
#   port: 3306
#   name: neuron_cms
#   user: root
#   pass: secret
#   charset: utf8mb4  # UTF8MB4 recommended for full Unicode support
#   # Or use URL format:
#   # url: mysql://root:secret@localhost:3306/neuron_cms?charset=utf8mb4

# Option 3: PostgreSQL (Enterprise features and complex queries)
# - Advanced query capabilities
# - Better JSON support
# - ACID compliance with advanced features
# database:
#   adapter: pgsql
#   host: localhost
#   port: 5432
#   name: neuron_cms
#   user: postgres
#   pass: secret
#   # Or use URL format:
#   # url: postgresql://postgres:secret@localhost:5432/neuron_cms

# Note: All databases use UTC timezone and have foreign key constraints enforced
# Timestamp updates (created_at, updated_at) work identically across all platforms

# Migration Configuration
migrations:
  path: db/migrate  # Path to migrations directory (relative to project root)
  seeds_path: db/seed  # Path to seeds directory (relative to project root)
  table: phinx_log  # Migration tracking table name
  schema_file: db/schema.yaml  # Schema export file path (relative to project root)
  auto_dump_schema: false  # Auto-dump schema after migrations (true/false)

# Email Configuration
# Used by email-sending features of the CMS powered by PHPMailer
email:
  test_mode: false  # When enabled, emails are logged instead of being sent (useful for development)
  driver: mail  # Email driver: mail, sendmail, or smtp
  from_address: noreply@yourdomain.com  # From address for system emails
  from_name: Your Site Name  # From name for system emails

  # SMTP Configuration (only required if driver is 'smtp')
  # Examples for popular email services:
  # Gmail: host: smtp.gmail.com, port: 587, encryption: tls
  # SendGrid: host: smtp.sendgrid.net, port: 587, username: apikey
  # Mailgun: host: smtp.mailgun.org, port: 587
  # host: smtp.gmail.com
  # port: 587
  # username: your-email@gmail.com
  # password: your-app-password
  # encryption: tls  # or 'ssl' for port 465

# Maintenance Mode Configuration
maintenance:
  default_message: "Site is currently under maintenance. We'll be back soon!"  # Default maintenance message
  allowed_ips:  # IP addresses that can bypass maintenance mode
    - 127.0.0.1  # Localhost IPv4
    - ::1  # Localhost IPv6
    # - 192.168.1.0/24  # Example: Allow entire local network (CIDR notation)
  retry_after: 3600  # Retry-after value in seconds (1 hour)
  custom_view: null  # Path to custom maintenance view (optional)
  show_countdown: false  # Show countdown timer on maintenance page
